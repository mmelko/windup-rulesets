<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
		xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
		xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
		http://camel.apache.org/schema/spring http://camel.apache.org/schema/spring/camel-spring.xsd">

	<bean id="function1" class="org.jboss.qe.camel.components.xslt.extensions.MyExtensionFunction1"/>
	<bean id="function2" class="org.jboss.qe.camel.components.xslt.extensions.MyExtensionFunction2"/>
	<bean id="aggregationStrategy" class="org.apache.camel.util.toolbox.XsltAggregationStrategy">
		<constructor-arg value="/xslt/aggregationStrategy.xsl"/>
	</bean>

	<camelContext id="xslt-camel-context" xmlns="http://camel.apache.org/schema/spring" autoStartup="true">
		<route>
			<from uri="direct:xslt-copy-all"/>
			<log message="input: \n ${body}"/>
			<to uri="xslt:xslt/copy-all.xsl"/>
			<log message="output: \n ${body}"/>
			<to uri="mock:result"/>
		</route>
	</camelContext>
</beans>
